<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Logged</title>
    <link rel="icon" href="./img/wm-simulator.ico">
    <!-- Materialize CDN -->
    <link href="css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- firebase CDN -->
    <script src="https://www.gstatic.com/firebasejs/6.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.9.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.2.0/firebase-database.js"></script>
</head>

<body bgcolor="#f6f7f9">
<!-- Button to go to Top in the page -->
<div class="fixed-action-btn btnScrollTopHide" id="btnScrollTop">
    <a class="btn-floating btn-large teal pulse" id="scrollToTopBtn">
        <i class="large material-icons">arrow_upward</i>
    </a>
</div>

<div class="nabvar-fixed">
    <nav class="nav-extended teal">
    <div class="nav-wrapper">
        <a href="#!" class="brand-logo" style="margin-left: 5px;">Water Meter System</a>
        <ul class="right hide-on-med-and-down">        
        <li><a href="./logged.html"><i class="material-icons right">settings_remote</i>Sensors Simulation</a></li>
        <li><a href="./test-realtime.html" style="background-color: #00796b;"><i class="material-icons right">dns</i>Test RealTime DB</a></li>
        <li><a href="./test-firestore.html"><i class="material-icons right">expand_less</i>Test Firestore DB</a></li>
        <li><a href="./comments.html"><i class="material-icons right">comments</i>Comments</a></li>        
        <li><a href="./test-room.html"><i class="material-icons right">code</i>Testing Room</a></li>
        </ul>
    </div>
    <div class="nav-content" style="padding-bottom: 10px;">
        <!-- <span style="margin-left: 5px;">Sensor Simulation</span>       -->
        <a class="btn-floating btn-large halfway-fab waves-effect waves-light teal lighten-1" title="Close Session">
        <i class="material-icons" onclick="Logout()">logout</i>
        </a>
    </div>
    </nav>  
</div> 

<br>

<section class="container">
    <center>
        <img src="./img/realtime.png" alt="RealTimeDatabaseImageHome" width="40%" style="object-fit: contain;">
    </center>    
</section>

<br><br>

<div class="row">        
    <section class="col s12 m6 l6">
        <center>
            <img src="./img/realtime-db/set.png" alt="SetData" width="50%">
        </center>        
    </section>
    <section class="col s12 m6 l6">
        <h5>Set Data</h5>
        <code>The variables and programming is in the project, <br>        
        Review test-realtime.js in the main code <br>        
        Reference: <b>SetData(), line 1</b></code> <br>
        <blockquote>
            Note: SET require an uid like identify 
        </blockquote>
        
        <a class="waves-effect waves-light btn" onclick="SetData()"><i class="material-icons right">send</i>SEND DATA</a>
    </section>
</div>

<br><br>

<div class="row">        
    <section class="col s12 m6 l6">
        <center>
            <img src="./img/realtime-db/get-one-value.png" alt="SetData" width="50%">
        </center>        
    </section>
    <section class="col s12 m6 l6">
        <h5>Get An Unique Value</h5>
        <code>The variables and programming is in the project, <br>
            Review test-realtime.js in the main code <br>            
            Reference: <b>SetUniqueValue(), line 7</b></code> <br>
        <blockquote>
            Note: You can change the route to the specific value in the code
        </blockquote>
        <a class="waves-effect waves-light btn" onclick="GetUniqueValue()"><i class="material-icons right">folder_special</i>GET UNIQUE DATA</a>
        <a class="waves-effect waves-light btn" onclick="ClearUniqueData()"><i class="material-icons right">refresh</i>RERFESH DATA</a>
        <br>
        <h5 id="uniqueValue">The value appears here! :)</h5>
    </section>
</div>

<div class="row">        
    <section class="col s12 m6 l6">
        <center>
            <img src="./img/realtime-db/get-list.png" alt="SetData" width="50%">
        </center>        
    </section>
    <section class="col s12 m6 l6">
        <h5>Get Data List In A Table</h5>
        <code>The variables and programming is in the project, <br>
            Review test-realtime.js in the main code <br>
            Reference: <b>GetDataInTable(), line 27</b></code> <br>
        <blockquote>
            Note: The function of get data works all in realtime
        </blockquote> 
        <a class="waves-effect waves-light btn" onclick="GetDataInTable()"><i class="material-icons right">list</i>GET DATA LIST</a>        
        <a class="waves-effect waves-light btn" onclick="ClearDataInTable()"><i class="material-icons right">refresh</i>RERFESH TABLE</a>
        <br>
        <h5>The values in table appears here! :)</h5>
        <div id="divTableRealTime"></div>
    </section>
</div>

    
<div class="container-badge">
    <div class="container-final" style="width: 40%;">
        <section class="col s12 m6 l6 ">
            <h5>Get Data List In Cards</h5>
            <code>The variables and programming is in the project, <br>
                Review test-realtime.js in the main code <br>            
                Reference: <b>GetDataInCards(), line 60</b></code> <br>
                <blockquote>
                    Note: The cards are responsive, the properties in class are: s12 m6 l6 <br>
                    Note2: The function of get data works all in realtime
                </blockquote>
            <a class="waves-effect waves-light btn" onclick="GetDataInCards()"><i class="material-icons right">list</i>GET DATA LIST</a>        
            <a class="waves-effect waves-light btn" onclick="ClearDataInCards()"><i class="material-icons right">refresh</i>RERFESH CARDS</a>
            <br>
            <h5>The values in cards appears below! :)</h5>                
        </section>
    </div>
</div>
<div id="divCardsRealTime"></div>

<br><br><br><br><br><br><br><br><br><br><br><br><br><br>
<script>
    window.onload=function(){
        // Your web app's Firebase configuration
        var firebaseConfig = {
        apiKey: "AIzaSyCRGshne368uORhEgoF48_V4dOrq8xfdwk",
        authDomain: "watermeter-fd8ec.firebaseapp.com",
        databaseURL: "https://watermeter-fd8ec.firebaseio.com",
        projectId: "watermeter-fd8ec",
        storageBucket: "watermeter-fd8ec.appspot.com",
        messagingSenderId: "392890094677",
        appId: "1:392890094677:web:57c01b865369a59775f0dc"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);

    firebase.auth().onAuthStateChanged(function(user) {
  if (user) {
    var displayName = user.displayName;
    var email = user.email;
    var emailVerified = user.emailVerified;
    var photoURL = user.photoURL;
    var isAnonymous = user.isAnonymous;
    var uid = user.uid;
    var providerData = user.providerData;

    console.log(uid);
  } else {  
    window.location.href="./index.html";     
  }
  });    
    }
</script>      
<script src="js/app.js"></script>
<script src="js/test-realtime.js"></script>
<!-- Materialize -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script src="js/init.js"></script>
</body>

</html>